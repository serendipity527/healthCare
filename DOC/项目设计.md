å¥½çš„ï¼æˆ‘æ¥ç»™æ‚¨è®¾è®¡ä¸€ä¸ªåŸºäº **LangChain4j + LangGraph4j + WebSocket** çš„ MVP æ¶æ„æ–¹æ¡ˆã€‚

## ğŸ—ï¸ é¡¹ç›®æ¶æ„å›¾

è®©æˆ‘å…ˆåˆ›å»ºä¸€ä¸ªæ¸…æ™°çš„æ¶æ„å›¾ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å‰ç«¯å±‚ (Frontend)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Vue 3 / React / åŸç”Ÿ HTML + JS                                 â”‚
â”‚  â””â”€ WebSocket Client (å®æ—¶å¯¹è¯)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ WebSocket è¿æ¥
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    WebSocket ç½‘å…³å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  WebSocketHandler                                               â”‚
â”‚  â”œâ”€ æ¶ˆæ¯è·¯ç”±                                                     â”‚
â”‚  â”œâ”€ ä¼šè¯ç®¡ç† (SessionManager)                                   â”‚
â”‚  â””â”€ æ¶ˆæ¯åºåˆ—åŒ–/ååºåˆ—åŒ–                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ ¸å¿ƒä¸šåŠ¡å±‚ (Core Service)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚         LangGraph4j çŠ¶æ€æœºå¼•æ“ (æ ¸å¿ƒ)                  â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚                                                       â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚     â”‚
â”‚  â”‚  â”‚ START    â”‚â”€â”€â”€â”€â”€â–¶â”‚ COLLECT  â”‚â”€â”€â”€â”€â”€â–¶â”‚ ANALYZE  â”‚   â”‚     â”‚
â”‚  â”‚  â”‚  çŠ¶æ€    â”‚      â”‚ INFO     â”‚      â”‚  ä¿¡æ¯    â”‚   â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  çŠ¶æ€    â”‚      â”‚  çŠ¶æ€    â”‚   â”‚     â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚     â”‚
â”‚  â”‚                         â”‚                  â”‚         â”‚     â”‚
â”‚  â”‚                         â”‚ ä¿¡æ¯ä¸è¶³          â”‚ ä¿¡æ¯å……è¶³ â”‚     â”‚
â”‚  â”‚                         â”‚                  â”‚         â”‚     â”‚
â”‚  â”‚                    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”   â”‚     â”‚
â”‚  â”‚                    â”‚ QUESTION â”‚      â”‚ RECOMMENDâ”‚   â”‚     â”‚
â”‚  â”‚                    â”‚ è¿½é—®çŠ¶æ€  â”‚      â”‚  æ¨èçŠ¶æ€ â”‚   â”‚     â”‚
â”‚  â”‚                    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚     â”‚
â”‚  â”‚                         â”‚                  â”‚         â”‚     â”‚
â”‚  â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚     â”‚
â”‚  â”‚                                   â”‚                  â”‚     â”‚
â”‚  â”‚                              â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”            â”‚     â”‚
â”‚  â”‚                              â”‚   END    â”‚            â”‚     â”‚
â”‚  â”‚                              â”‚  ç»“æŸ    â”‚            â”‚     â”‚
â”‚  â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                             â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚          LangChain4j LLM æœåŠ¡å±‚                      â”‚       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚  â”‚  â€¢ ChatLanguageModel (å¯¹è¯æ¨¡å‹)                      â”‚       â”‚
â”‚  â”‚  â€¢ ConversationChain (å¯¹è¯é“¾)                        â”‚       â”‚
â”‚  â”‚  â€¢ PromptTemplate (æç¤ºè¯æ¨¡æ¿)                       â”‚       â”‚
â”‚  â”‚  â€¢ ChatMemory (å¯¹è¯è®°å¿†)                             â”‚       â”‚
â”‚  â”‚  â€¢ Tools/Functions (å·¥å…·è°ƒç”¨)                        â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                             â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ•°æ®è®¿é—®å±‚ (Data Layer)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Redis           â”‚  â”‚ Memory Store    â”‚  â”‚ JSON Files      â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â€¢ ä¼šè¯çŠ¶æ€      â”‚  â”‚ â€¢ åŒ»ç”Ÿæ•°æ®      â”‚  â”‚ â€¢ è¯ç‰©çŸ¥è¯†åº“    â”‚  â”‚
â”‚  â”‚ â€¢ å¯¹è¯å†å²      â”‚  â”‚ â€¢ ç”¨æˆ·ä¿¡æ¯      â”‚  â”‚ â€¢ ç–¾ç—…æ˜ å°„      â”‚  â”‚
â”‚  â”‚ â€¢ æ”¶é›†çš„ä¿¡æ¯    â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¤–éƒ¨æœåŠ¡å±‚ (External)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚
â”‚  â”‚ OpenAI API       â”‚  â”‚ é€šä¹‰åƒé—® API      â”‚  (é€‰æ‹©ä¸€ä¸ª)         â”‚
â”‚  â”‚ GPT-4 / GPT-3.5  â”‚  â”‚ æˆ–å…¶ä»–å›½äº§ LLM    â”‚                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“‹ å®ç°æ€è·¯

### **1ï¸âƒ£ LangGraph4j çŠ¶æ€æœºè®¾è®¡**

```
çŠ¶æ€å®šä¹‰ï¼š
â”œâ”€ START: åˆå§‹æ¬¢è¿çŠ¶æ€
â”œâ”€ COLLECT_INFO: ä¿¡æ¯æ”¶é›†çŠ¶æ€ï¼ˆä¸»å¾ªç¯ï¼‰
â”œâ”€ ANALYZE: åˆ†ææ”¶é›†çš„ä¿¡æ¯æ˜¯å¦è¶³å¤Ÿ
â”œâ”€ QUESTION: ç”Ÿæˆè¿½é—®ï¼ˆä¿¡æ¯ä¸è¶³æ—¶ï¼‰
â”œâ”€ RECOMMEND: æ¨èåŒ»ç”Ÿæˆ–è¯ç‰©ï¼ˆä¿¡æ¯å……è¶³æ—¶ï¼‰
â””â”€ END: ç»“æŸå¯¹è¯

çŠ¶æ€è½¬æ¢æ¡ä»¶ï¼š
â€¢ COLLECT_INFO â†’ ANALYZE: ç”¨æˆ·å›å¤å
â€¢ ANALYZE â†’ QUESTION: å¿…è¦ä¿¡æ¯ç¼ºå¤±
â€¢ ANALYZE â†’ RECOMMEND: ä¿¡æ¯å®Œæ•´åº¦ >= 80%
â€¢ QUESTION â†’ COLLECT_INFO: ç»§ç»­æ”¶é›†
â€¢ RECOMMEND â†’ END: æ¨èå®Œæˆ
```

### **2ï¸âƒ£ å¿…é¡»æ”¶é›†çš„ä¿¡æ¯å­—æ®µ**

```java
class PatientInfo {
    String age;           // å¹´é¾„ âœ“
    String gender;        // æ€§åˆ« âœ“
    String symptoms;      // ä¸»è¦ç—‡çŠ¶ âœ“
    String duration;      // æŒç»­æ—¶é—´ âœ“
    String severity;      // ä¸¥é‡ç¨‹åº¦
    String otherSymptoms; // ä¼´éšç—‡çŠ¶
    String medicalHistory;// æ—¢å¾€ç—…å²
    String allergies;     // è¿‡æ•å²
}
```

### **3ï¸âƒ£ LangChain4j å·¥å…·å‡½æ•°ï¼ˆToolsï¼‰**

```java
@Tool("æ£€æŸ¥ä¿¡æ¯å®Œæ•´æ€§")
boolean checkInfoCompleteness(PatientInfo info);

@Tool("æ¨èç§‘å®¤")
String recommendDepartment(PatientInfo info);

@Tool("æ¨èåŒ»ç”Ÿ")
List<Doctor> recommendDoctors(String department);

@Tool("æ¨èéå¤„æ–¹è¯")
List<Medicine> recommendOTCMedicine(PatientInfo info);
```

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
healthCare/
â”œâ”€â”€ pom.xml
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/yihu/agent/
â”‚   â”‚   â”‚   â”œâ”€â”€ HealthCareApplication.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ config/                    # é…ç½®å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WebSocketConfig.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LangChainConfig.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RedisConfig.java (å¯é€‰)
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ websocket/                 # WebSocket å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatWebSocketHandler.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SessionManager.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ graph/                     # LangGraph çŠ¶æ€æœº
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MedicalAgentGraph.java         (æ ¸å¿ƒ)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ states/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AgentState.java            (çŠ¶æ€å®šä¹‰)
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ StateTransition.java       (è½¬æ¢é€»è¾‘)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ nodes/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ CollectInfoNode.java
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ AnalyzeNode.java
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ QuestionNode.java
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ RecommendNode.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ service/                   # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatService.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LLMService.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RecommendationService.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ InfoExtractionService.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ tools/                     # LangChain Tools
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ InfoChecker.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DoctorRecommender.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MedicineRecommender.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ model/                     # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatMessage.java
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PatientInfo.java
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RecommendationResult.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ entity/
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ Doctor.java
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ Medicine.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/                # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ DoctorRepository.java
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MedicineRepository.java
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ SessionRepository.java
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ constant/                  # å¸¸é‡
â”‚   â”‚   â”‚       â”œâ”€â”€ AgentStates.java
â”‚   â”‚   â”‚       â””â”€â”€ PromptTemplates.java
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ application.yml
â”‚   â”‚       â”œâ”€â”€ prompts/                   # æç¤ºè¯æ¨¡æ¿
â”‚   â”‚       â”‚   â”œâ”€â”€ system-prompt.txt
â”‚   â”‚       â”‚   â”œâ”€â”€ collect-info.txt
â”‚   â”‚       â”‚   â””â”€â”€ recommend.txt
â”‚   â”‚       â””â”€â”€ data/                      # åˆå§‹æ•°æ®
â”‚   â”‚           â”œâ”€â”€ doctors.json
â”‚   â”‚           â”œâ”€â”€ medicines.json
â”‚   â”‚           â””â”€â”€ symptoms-mapping.json
â”‚   â”‚
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ java/com/yihu/agent/
â”‚           â””â”€â”€ HealthCareApplicationTests.java
â”‚
â”œâ”€â”€ frontend/                              # å‰ç«¯ (å¯é€‰)
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ chat.js
â”‚   â””â”€â”€ style.css
â”‚
â””â”€â”€ README.md
```

## ğŸ”§ æ ¸å¿ƒå®ç°æµç¨‹

### **æ¶ˆæ¯æµè½¬æµç¨‹**

```
1. ç”¨æˆ·å‘é€æ¶ˆæ¯
   â†“
2. WebSocketHandler æ¥æ”¶
   â†“
3. è·å–/åˆ›å»ºä¼šè¯çŠ¶æ€ (SessionManager)
   â†“
4. ä¼ å…¥ LangGraph çŠ¶æ€æœº
   â†“
5. çŠ¶æ€æœºåˆ¤æ–­å½“å‰çŠ¶æ€å¹¶æ‰§è¡Œå¯¹åº” Node
   â†“
6. Node è°ƒç”¨ LangChain4j LLM Service
   â†“
7. LLM è¿”å›å“åº” / è°ƒç”¨ Tools
   â†“
8. çŠ¶æ€æœºæ›´æ–°çŠ¶æ€
   â†“
9. é€šè¿‡ WebSocket è¿”å›ç»™ç”¨æˆ·
   â†“
10. ç­‰å¾…ä¸‹ä¸€æ¡æ¶ˆæ¯ (å¾ªç¯)
```

## ğŸ“¦ æ ¸å¿ƒä¾èµ– (pom.xml)

```xml
<properties>
    <langchain4j.version>0.35.0</langchain4j.version>
</properties>

<dependencies>
    <!-- Spring Boot Web & WebSocket -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-web</artifactId>
    </dependency>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-websocket</artifactId>
    </dependency>
    
    <!-- LangChain4j Core -->
    <dependency>
        <groupId>dev.langchain4j</groupId>
        <artifactId>langchain4j</artifactId>
        <version>${langchain4j.version}</version>
    </dependency>
    
    <!-- LangChain4j OpenAI Integration -->
    <dependency>
        <groupId>dev.langchain4j</groupId>
        <artifactId>langchain4j-open-ai</artifactId>
        <version>${langchain4j.version}</version>
    </dependency>
    
    <!-- LangChain4j Spring Boot Starter -->
    <dependency>
        <groupId>dev.langchain4j</groupId>
        <artifactId>langchain4j-spring-boot-starter</artifactId>
        <version>${langchain4j.version}</version>
    </dependency>
    
    <!-- Redis (å¯é€‰ï¼Œç”¨äºä¼šè¯æŒä¹…åŒ–) -->
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-data-redis</artifactId>
    </dependency>
    
    <!-- Lombok -->
    <dependency>
        <groupId>org.projectlombok</groupId>
        <artifactId>lombok</artifactId>
    </dependency>
    
    <!-- JSONå¤„ç† -->
    <dependency>
        <groupId>com.fasterxml.jackson.core</groupId>
        <artifactId>jackson-databind</artifactId>
    </dependency>
</dependencies>
```

## ğŸ’¡ MVP åŠŸèƒ½æ¸…å•

**ç¬¬ä¸€é˜¶æ®µï¼šä¿¡æ¯æ”¶é›†** (Week 1-2)
- âœ… WebSocket å®æ—¶å¯¹è¯
- âœ… å¤šè½®å¯¹è¯å†å²è®°å¿†
- âœ… ç»“æ„åŒ–ä¿¡æ¯æå–ï¼ˆå¹´é¾„ã€æ€§åˆ«ã€ç—‡çŠ¶ç­‰ï¼‰
- âœ… ä¿¡æ¯å®Œæ•´åº¦åˆ¤æ–­
- âœ… æ™ºèƒ½è¿½é—®

**ç¬¬äºŒé˜¶æ®µï¼šæ¨èå¼•æ“** (Week 3)
- âœ… åŸºäºç—‡çŠ¶çš„ç§‘å®¤åŒ¹é…
- âœ… åŒ»ç”Ÿæ¨èï¼ˆTop 3ï¼‰
- âœ… éå¤„æ–¹è¯æ¨è + å…è´£å£°æ˜
- âœ… æ¨èç»“æœå±•ç¤º

**åŸºç¡€è®¾æ–½** (Week 1)
- âœ… é¡¹ç›®æ¡†æ¶æ­å»º
- âœ… LangGraph çŠ¶æ€æœº
- âœ… åŒ»ç”Ÿ/è¯ç‰©æ•°æ®å‡†å¤‡

---

## ğŸš€ ä¸‹ä¸€æ­¥

æˆ‘å¯ä»¥å¸®æ‚¨ï¼š
1. **ç«‹å³æ­å»ºå®Œæ•´é¡¹ç›®éª¨æ¶** - ç”Ÿæˆæ‰€æœ‰æ–‡ä»¶å’Œé…ç½®
2. **å®ç°æ ¸å¿ƒçŠ¶æ€æœº** - LangGraph4j æµç¨‹
3. **WebSocket é€šä¿¡** - å®æ—¶å¯¹è¯åŠŸèƒ½
4. **å‡†å¤‡æµ‹è¯•æ•°æ®** - åŒ»ç”Ÿå’Œè¯ç‰© JSON

éœ€è¦æˆ‘ç°åœ¨å¼€å§‹å®ç°å—ï¼Ÿæ‚¨å¸Œæœ›å…ˆä»å“ªä¸ªéƒ¨åˆ†å¼€å§‹ï¼Ÿ