# é˜¶æ®µ 0ï¼šç¯å¢ƒå‡†å¤‡ - å®ŒæˆæŠ¥å‘Š

## âœ… å®Œæˆæ—¶é—´
2025-11-04

## âœ… å·²å®Œæˆä»»åŠ¡

### 1. Maven ä¾èµ–é…ç½®
**çŠ¶æ€**: âœ… å·²å®Œæˆï¼ˆä¾èµ–å·²é¢„å…ˆé…ç½®ï¼‰

é¡¹ç›® `pom.xml` å·²åŒ…å«æ‰€æœ‰å¿…éœ€çš„ä¾èµ–ï¼š
- âœ… `langchain4j-spring-boot-starter` (v1.7.1-beta14)
- âœ… `langchain4j-open-ai-spring-boot-starter` (v1.7.1-beta14)
- âœ… `langgraph4j-core` (v1.7.1)
- âœ… `langgraph4j-langchain4j` (v1.7.1)
- âœ… Spring WebSocket
- âœ… Lombok

**ç‰ˆæœ¬è¯´æ˜**: é¡¹ç›®ä½¿ç”¨çš„ç‰ˆæœ¬æ¯”å¼€å‘æ‰‹å†Œå»ºè®®çš„æ›´æ–°ï¼š
- LangChain4j: 1.7.1-beta14 (æ‰‹å†Œå»ºè®®: 0.32.0)
- LangGraph4j: 1.7.1 (æ‰‹å†Œå»ºè®®: 0.1.0-beta.1)

### 2. é…ç½®æ–‡ä»¶
**çŠ¶æ€**: âœ… å·²å®Œæˆ

#### application.properties
å·²æ·»åŠ ä»¥ä¸‹é…ç½®é¡¹ï¼š
```properties
# OpenAI Configuration
langchain4j.open-ai.chat-model.api-key=${OPENAI_API_KEY:your-api-key-here}
langchain4j.open-ai.chat-model.model-name=gpt-4
langchain4j.open-ai.chat-model.temperature=0.7
langchain4j.open-ai.chat-model.timeout=60s
langchain4j.open-ai.chat-model.max-retries=3

# Chat Memory Configuration
healthcare.chat.memory.max-messages=10
healthcare.chat.session-timeout=30m

# Emergency Keywords
healthcare.emergency.keywords=èƒ¸ç—›,å¿ƒè„ç–¼,å‘¼å¸å›°éš¾,å¤§å‡ºè¡€,æ˜è¿·,çª’æ¯,ä¸­é£,å¤±æ˜,å¿ƒè‚Œæ¢—æ­»,ä¼‘å…‹,æŠ½æ,åè¡€,å’³è¡€
```

### 3. é¡¹ç›®ç›®å½•ç»“æ„
**çŠ¶æ€**: âœ… å·²å®Œæˆ

å·²åˆ›å»ºå®Œæ•´çš„ AI åŠŸèƒ½ç›®å½•ç»“æ„ï¼š
```
src/main/java/com/yihu/agent/ai/
â”œâ”€â”€ config/          # LangChain å’Œ AI æœåŠ¡é…ç½®
â”œâ”€â”€ service/         # æœåŠ¡å±‚
â”œâ”€â”€ graph/           # LangGraph ç›¸å…³
â”‚   â””â”€â”€ nodes/       # çŠ¶æ€æœºèŠ‚ç‚¹å®ç°
â””â”€â”€ model/           # æ•°æ®æ¨¡å‹

src/main/resources/
â””â”€â”€ prompts/
    â””â”€â”€ system-prompt.txt  # ç³»ç»Ÿæç¤ºè¯æ¨¡æ¿
```

### 4. ç³»ç»Ÿæç¤ºè¯æ¨¡æ¿
**çŠ¶æ€**: âœ… å·²å®Œæˆ

å·²åˆ›å»º `src/main/resources/prompts/system-prompt.txt`ï¼ŒåŒ…å«ï¼š
- âœ… åŒ»ç–—åŠ©æ‰‹è§’è‰²å®šä¹‰
- âœ… èƒ½åŠ›è¾¹ç•Œè¯´æ˜
- âœ… æ²Ÿé€šé£æ ¼æŒ‡å¯¼
- âœ… å®‰å…¨åŸåˆ™å’Œæ³¨æ„äº‹é¡¹

### 5. å®‰å…¨é…ç½®
**çŠ¶æ€**: âœ… å·²å®Œæˆ

- âœ… åˆ›å»º `.gitignore` æ–‡ä»¶ï¼Œé˜²æ­¢æ•æ„Ÿä¿¡æ¯æ³„éœ²
- âœ… é…ç½®ç¯å¢ƒå˜é‡å ä½ç¬¦ `${OPENAI_API_KEY}`
- âœ… åˆ›å»ºé…ç½®æŒ‡å—æ–‡æ¡£

### 6. è¾…åŠ©æ–‡æ¡£
**çŠ¶æ€**: âœ… å·²å®Œæˆ

å·²åˆ›å»ºï¼š
- âœ… `DOC/AIç¯å¢ƒé…ç½®æŒ‡å—.md` - è¯¦ç»†çš„ç¯å¢ƒé…ç½®è¯´æ˜
- âœ… `.gitignore` - ä¿æŠ¤æ•æ„Ÿé…ç½®æ–‡ä»¶

## ğŸ“‹ ç›®å½•ç»“æ„æ¦‚è§ˆ

```
healthCare/
â”œâ”€â”€ pom.xml                                      [âœ… ä¾èµ–å·²é…ç½®]
â”œâ”€â”€ .gitignore                                   [âœ… æ–°å¢]
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/com/yihu/agent/
â”‚       â”‚   â””â”€â”€ ai/                              [âœ… æ–°å¢]
â”‚       â”‚       â”œâ”€â”€ config/
â”‚       â”‚       â”œâ”€â”€ service/
â”‚       â”‚       â”œâ”€â”€ graph/
â”‚       â”‚       â”‚   â””â”€â”€ nodes/
â”‚       â”‚       â””â”€â”€ model/
â”‚       â””â”€â”€ resources/
â”‚           â”œâ”€â”€ application.properties           [âœ… å·²æ›´æ–°]
â”‚           â””â”€â”€ prompts/                         [âœ… æ–°å¢]
â”‚               â””â”€â”€ system-prompt.txt
â””â”€â”€ DOC/
    â”œâ”€â”€ AIç¯å¢ƒé…ç½®æŒ‡å—.md                         [âœ… æ–°å¢]
    â””â”€â”€ å®æ–½è¿›åº¦/                                [âœ… æ–°å¢]
        â””â”€â”€ é˜¶æ®µ0_ç¯å¢ƒå‡†å¤‡_å®ŒæˆæŠ¥å‘Š.md

```

## âš ï¸ ä¸‹ä¸€æ­¥æ“ä½œ

### å¼€å§‹å¼€å‘å‰éœ€è¦ï¼š

1. **é…ç½® OpenAI API Key** (å¿…éœ€)
   - å‚è€ƒ `DOC/AIç¯å¢ƒé…ç½®æŒ‡å—.md`
   - æ¨èä½¿ç”¨ç¯å¢ƒå˜é‡æ–¹å¼ï¼š
     ```powershell
     $env:OPENAI_API_KEY="sk-your-actual-key-here"
     ```

2. **éªŒè¯ç¯å¢ƒ**
   - ç¡®ä¿ JDK 17+ å·²å®‰è£…
   - ç¡®ä¿ Maven æ­£å¸¸å·¥ä½œ
   - è¿è¡Œ `mvn clean compile` éªŒè¯é¡¹ç›®ç¼–è¯‘é€šè¿‡

3. **å‡†å¤‡å¼€å§‹é˜¶æ®µ 1**
   - é˜¶æ®µ 1 å°†åˆ›å»ºåŸºç¡€æ•°æ®æ¨¡å‹å’Œé…ç½®ç±»
   - å®ç°æœ€å°å¯ç”¨çš„ AI å¯¹è¯åŠŸèƒ½

## ğŸ“Š å®Œæˆåº¦ç»Ÿè®¡

| ä»»åŠ¡é¡¹ | çŠ¶æ€ | å¤‡æ³¨ |
|--------|------|------|
| Maven ä¾èµ– | âœ… | å·²é¢„å…ˆé…ç½®ï¼Œç‰ˆæœ¬æ›´æ–° |
| application.properties | âœ… | å·²æ·»åŠ  AI ç›¸å…³é…ç½® |
| ç›®å½•ç»“æ„åˆ›å»º | âœ… | æ‰€æœ‰ç›®å½•å·²åˆ›å»º |
| ç³»ç»Ÿæç¤ºè¯ | âœ… | å·²åˆ›å»ºæ¨¡æ¿ |
| å®‰å…¨é…ç½® | âœ… | .gitignore å·²é…ç½® |
| é…ç½®æ–‡æ¡£ | âœ… | ç¯å¢ƒé…ç½®æŒ‡å—å·²åˆ›å»º |

**æ€»ä½“å®Œæˆåº¦**: 100% âœ…

## ğŸ¯ å…³é”®å†³ç­–è®°å½•

1. **ä¾èµ–ç‰ˆæœ¬**: ä½¿ç”¨äº†æ¯”æ‰‹å†Œæ›´æ–°çš„ç‰ˆæœ¬ï¼ˆ1.7.1 vs 0.32.0ï¼‰ï¼Œéœ€è¦æ³¨æ„ API å¯èƒ½æœ‰å˜åŒ–
2. **API Key ç®¡ç†**: é‡‡ç”¨ç¯å¢ƒå˜é‡ + é…ç½®æ–‡ä»¶å ä½ç¬¦çš„æ–¹å¼ï¼Œç¡®ä¿å®‰å…¨æ€§
3. **ç³»ç»Ÿæç¤ºè¯**: å¼ºè°ƒäº†åŒ»ç–—åŠ©æ‰‹çš„è¾¹ç•Œå’Œå®‰å…¨åŸåˆ™ï¼Œç¬¦åˆåŒ»ç–—å’¨è¯¢åœºæ™¯

## ğŸ“Œ æ³¨æ„äº‹é¡¹

- âš ï¸ **å¿…é¡»é…ç½® API Key** æ‰èƒ½è¿è¡Œ AI åŠŸèƒ½
- âš ï¸ **ä¸è¦æäº¤** `application-local.properties` åˆ° Git
- âš ï¸ LangChain4j ç‰ˆæœ¬è¾ƒæ–°ï¼ŒæŸäº› API å¯èƒ½ä¸æ‰‹å†Œç¤ºä¾‹æœ‰å·®å¼‚ï¼Œéœ€åœ¨å®ç°æ—¶æŸ¥é˜…å®˜æ–¹æ–‡æ¡£

---

**å‡†å¤‡å°±ç»ªï¼Œå¯ä»¥å¼€å§‹é˜¶æ®µ 1 çš„å¼€å‘ï¼** ğŸš€

